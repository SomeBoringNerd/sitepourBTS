<!DOCTYPE html>
<html>
    <head>
        <title>JustAFeeling, RPG Game</title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        
        <link rel="stylesheet" href="index.css">
        
        <style type="text/css">
            select {
                clear:both;
            }
        </style>
    </head>
    <body>
        <script>
            // NOTE : enlever "close();" casse le script sur IE d'une façon ou d'une autre.
            // je deteste ce navigateur
            
            // check pour le userargent 
            detectIEregexp = (navigator.userAgent.indexOf('MSIE') != -1) ? /MSIE (\d+\.\d+);/ : /Trident.*rv[ :]*(\d+\.\d+)/ ;
            
            // print le resultat
            console.log(detectIEregexp.test(navigator.userAgent) ? "l'utisateur utilise internet explorer" : "l'utilisateur n'utilise pas internet explorer");

            // si on est sur internet explorer
            if (detectIEregexp.test(navigator.userAgent)){ 
                alert(navigator.appName + " n'est pas supporté. Le site ne marchera donc pas. merci d'utiliser un navigateur comme Firefox");
                close();
            }

            // code volé sans honte ici :
            // https://beamtic.com/change-iframe-src-javascript
            // après j'ai changé pas mal de truc donc ça passe
            // c'est pas 100% du vol

            function changerDePage(name){        
                document.getElementById("iframe_modifiable").src = name;
            }
            
            // le seul copié collé est le "POST / GET" wannabe pour js
            // que j'ai eu ici :
            // https://stackoverflow.com/a/17502197
            window.onload = function()
            {
                var defaultURL = 'file:///home/corentyn/Documents/GitHub/sitepourBTS/index.html';
                var url = document.location.href;

                let tmp; // l'enlever créer une erreur

                console.log(url.toString());
                if(url != defaultURL){
                    params = url.split('?')[1].split('&'),
                    data = {}, tmp;
                    changerDePage(params[0]);
                }else{
                    changerDePage('pages/fake_index.html')
                }
            }


        </script>
        <center>
        <div id="topDuSite">
            <top>
                <div class="dropdown">
                <span>
                    <pb id="black">_______</pb>
                    <a href="javascript:void(0)" onclick="location.href='index.html?pages/fake_index.html'">
                        <pb>Menu principal</pb>
                    </a>
                <pb id="black">______</pb>
                                                                                                                                    <a href="javascript:void(0)" onclick="newSrc('templates/template_wiki.html');"><pb id="black">_</pb></a>
                </span>
                <div class="dropdown-content" id="drop1">
                    <button onClick="location.href='index.html?pages/fake_index.html'"><pr>Page principale</pr></button><br>
                    <button onClick="location.href='index.html?pages/Contributeur.html'"><pr>Contributeurs</pr></button><br>
                    <button onClick="location.href='index.html?pages/FAQ.html'"><pr>Foire aux questions</pr></button><br>
                    <button onClick="location.href='index.html?pages/mention_legale.html'"><pr>Mentions légales</pr></button><br>
                </div>
                </div>
            </top>
            <top>
                <div class="dropdown">
                    <pb id="black">____________</pb>
                    <a href="javascript:void(0)" onclick="location.href='index.html?wiki/index.html';">
                        <pb>Wiki</pb>
                    </a>
                    <pb id="black">____________</pb>
                    <div class="dropdown-content" id="drop2">

                        <button onClick="location.href='index.html?wiki/index.html';"><pr>Page principale</pr></button><br>
                        <button onClick="location.href='index.html?wiki/index.html';"><pr>Personnages disponibles</pr></button><br>
                        <button onClick="location.href='index.html?wiki/index.html';"><pr>Les Objets disponibles</pr></button><br>
                        <button onClick="location.href='index.html?wiki/index.html';"><pr>Les Endroits</pr></button><br>
                    </div>
                </div>
            </top>
        </div>
        </center>
        <br>
        <br><br><br>

        <iframe src="" style="
            position:fixed; 
            top:0;
            left:0; 
            bottom:0; 
            right:0;
            width:100%;
            height:100%;
            border:none;
            margin:0;
            padding:0;
            overflow:hidden;
            z-index:1;"
            id="iframe_modifiable">
        </iframe>
    </body>
</html>